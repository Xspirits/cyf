<!doctype html>
<html>
<head>
	<% include statics/headers %>
    <!-- Start General metas -->
    <meta name="url" content="http://www.cyf-app.co">
    <meta name="language" content="EN">
    <meta name="reply-to" content="cyf.app@gmail.com">
    <meta name="rating" content="General">
    <meta name="keywords" content="create, challenge, challenge friends, cyf, gaming, competition, e-sport, league of legend, dota, dota 2, champion">
    <meta name="title" content="Submit a new challenge - Challenge your Friends">
    <meta name="description" content="Add challenges to Challenge your Friends and throw them to your friends!">
    <!-- End General metas -->
    <!-- Start Open Graph metas -->
    <meta property="og:type" content="article"> <!-- website/article/profile -->
    <meta property="og:url" content="http://www.cyf-app.co">
    <meta property="og:site_name" content="Challenge your Friends"/>
    <meta property="og:image" content="http://cyf-app.co/img/icon_big.png">
    <meta property="og:image:type" content="image/png">
    <meta property="og:image:width" content="750">
    <meta property="og:image:height" content="315">
    <meta property="og:title" content="Submit a new challenge - Challenge your Friends">
    <meta property="og:description" content="Add challenges to Challenge your Friends and throw them to your friends!">
    <!-- End Open Graph -->
    <!-- Start Twitter Card Meta -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@cyf_app">
    <meta name="twitter:image" content="http://cyf-app.co/img/icon_big.png">
    <meta name="twitter:image:width" content="750">
    <meta name="twitter:title" content="Submit a new challenge - Challenge your Friends">
    <meta name="twitter:description" content="Add challenges to Challenge your Friends and throw them to your friends!">
    <!-- Twitter card end -->
	<title>Submit a new challenge - Challenge your Friends</title>
</head>
<body>

	<% include statics/navTop %>

	<div class="canvas">
		
		<div class="container">

			<div class="page-header text-center">
				<h1>Submit a new challenge</h1>
			</div>

			<div class="row">

				<% if (challenge.title) { %>
				<div class="col-md-12">
				<div class="alert alert-success">
				<h2>
				challenge Created successfully!
					
				</h2>
				<p>Challengers will no be able to throw your challenge to eachothers, awesome !</p>
				</div>
				<dl class="dl-horizontal">
					<dt>Title</dt>
					<dd><%= challenge.title %></dd>
					<dt>Description</dt>
					<dd><%= challenge.description %></dd>
					<dt>Duration</dt>
					<dd><%= challenge.durationD %> day(s) and <%= challenge.durationH %> hours max</dd>
				</dl>
					
				</div>
				<% } else { %>
				<div class="row">

					<div class="col-md-8 col-md-offset-2">

						<div class="panel-group panel-group-lists collapse in" id="accordion2" style="height: auto;">
			              <div class="panel">
			                <div class="panel-heading">
			                  <h4 class="panel-title">
			                    <a data-toggle="collapse" data-parent="#accordion2" href="#collapseFour" class="collapsed">
			                      About creating a challlenge
			                    </a>
			                  </h4>
			                </div>
			                <div id="collapseFour" class="panel-collapse collapse" style="height: 0px;">
			                  <div class="panel-body">
			                    Creating challenge allows you to be able to to launche what you estimate as challenging! It also add new content to Cyf and will give to others challengers new options when time to lauch a challenge comes.
			                  </div>
			                </div>
			              </div>
			              <div class="panel">
			                <div class="panel-heading">
			                  <h4 class="panel-title">
			                    <a data-toggle="collapse" data-parent="#accordion2" href="#collapseFive" class="collapsed">
			                      Important guidelines
			                    </a>
			                  </h4>
			                </div>
			                <div id="collapseFive" class="panel-collapse collapse">
			                  <div class="panel-body">
								<dl class="dl-horizontal">
									<dt>The title</dt>
									<dd>Be sure to put a clear title which allows challengers to identify immediatly what your challenge is about (ie: Killing spree of 5 with X). Keep it <strong>short</strong>.</dd>
									<dt>The description</dt>
									<dd>Enter a complete description, don't forget to include: <strong>how to proove the challenger succeed</strong> (screenshot? answer?), <strong>any important details</strong> (such as "use this character, don't do this while doing this challenge). <br> <strong>tips:</strong>: many games offer a chat where you can activate/desactivate the times of messages which are posted. This is a good way to proove the start and end of a challenge.</dd>
									<dt>Duration</dt>
									<dd>Remember, we are here to take up challenges! But, be realistic, ain't nobody to kill the last boss of a game like skyrim or Zelda in 5min.</dd>
									<dt>Keep it simple</dt>
									<dd> Don't forget: you can create multiples challenges so keep them as simple as possible to make people enjoy them! Tip: create challenges you would like to do yourself :)</dd>
								</dl>
			                  </div>
			                </div>
			              </div>
			              <div class="panel">
			                <div class="panel-heading">
			                  <h4 class="panel-title">
			                    <a data-toggle="collapse" data-parent="#accordion2" href="#collapseSix" class="collapsed">
			                      How to ?
			                    </a>
			                  </h4>
			                </div>
			                <div id="collapseSix" class="panel-collapse collapse">
			                  <div class="panel-body">
			                    <ul class="list-unstyled">
									<li><i class="fa fa-check"></i> <strong>Do:</strong> Use a clean and clear language</li>
									<li><i class="fa fa-check"></i> <strong>Do:</strong> Be realistic for the allowed timeframe</li>

									<li><i class="fa fa-ban"></i> <strong>Don't:</strong> Duplicate a challenge if you don't bring something new.</li>
									<li><i class="fa fa-ban"></i> <strong>Don't:</strong> Put anything which may enfrain any law</li>

								</ul>
			                  </div>
			                </div>
			              </div>
			            </div>
			           </div>

					<div class="form-group col-md-8 col-md-offset-2">
						<form action="/newChallenge" method="post">
							<div class="form-group col-md-6">
								<label>Title</label>
								<input type="text" class="form-control" name="title">
							</div>
							<div class="form-group col-md-6">
								<label>Pick a Game</label>
								<input id="gamePicked" type="text" class="form-control" name="game" autocomplete="off"  >
								<input id="idGame" type="hidden" name="idGame"  value="">
								<a href="/newGame"><small>Can't find your game ?</small></a>
							</div>
							<div class="form-group col-md-6">
								<label>Description</label>
								<textarea class="form-control" rows="6" name="description"></textarea>
							</div>



							<div class="form-group col-md-6">
								<div class="row">
									<div class="col-md-12">
										<label>Define a time limit</label>
										<input id="durationH" type="text" value="0" name="durationH" class="form-control">

										<input id="durationD" type="text" value="0" name="durationD" class="form-control">
									</div>
									<div class="col-md-12">
										<hr>
										<button type="submit" class="btn btn-punch btn-warning btn-block">Submit this new challenge</button>
									</div>

								</div>
							</div>


						</form>
						<% } %>
					</div>
				</div>
			</div>

		</div>

		<% include statics/footers %>

		<script src="./js/bloodhound.js"></script>
		<script src="./js/typeahead.js"></script>

		<script type="text/javascript">

			$(function(){

				$("#gamePicked").autocomplete({
					source: function (request, response) {
						$.ajax({
							url: "/search_game",
							type: "GET",
			 			data: request,  // request is the value of search input
			 			success: function (data) {
						// Map response values to fiedl label and value
							response($.map(data, function (el) {
								return {
									label: _.unescape(el.title),
									idGame: el._id,
									value: el.type 
								};
							}));
						}
					});
						},
						// The minimum number of characters a user must type before a search is performed.
						minLength: 3, 					
						// set an onFocus event to show the result on input field when result is focused
						focus: function (event, ui) { 

							this.value = ui.item.label; 
						// Prevent other event from not being execute
						event.preventDefault();
					},
					select: function (event, ui) {
						// Prevent value from being put in the input:
						this.value = ui.item.label;
						// Set the id to the next input hidden field
						// $('#gamePicked').val(ui.item.label); 
						$('#idGame').val(ui.item.idGame); 
						// Prevent other event from not being execute		
						event.preventDefault();
					}
			});
$("#durationH").TouchSpin({
	min: 0,
	max: 24,
	stepinterval: 1,
	postfix: 'hours'
});
$("#durationD").TouchSpin({
	min: 0,
	max: 24,
	stepinterval: 1,
	postfix: 'days'
});
});
</script>
</body>
</html>